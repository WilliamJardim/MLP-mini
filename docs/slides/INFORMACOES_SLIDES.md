# Como se calcula os gradientes das unidades usando o backpropagation
![Slide Backpropagation](./Slide_Backpropagation_APRIMORADO.png "Backpropagation")

Esta imagem foi criada como parte do meu aprendizado sobre algoritmos de propagação direta e Backpropagation em redes neurais. Ela reflete meu entendimento pessoal.

Nela mostra o processo fundamental do Backpropagation: Para se calcular o gradiente de uma unidade que está na camada oculta, nós vamos precisar somar os gradientes de todas as unidades da camada seguinte multiplicados pelo peso que faz essa conexão entre a unidade em questão na camada oculta e a unidade atual da camada seguinte. Em outras palavras, isso é um processo repetitivo e muito simples, que se resume em: Para cada unidade na camada seguinte, some o gradiente da unidade(isso é, a unidade da camada seguinte) em questão multiplicado pelo peso(do vetor de pesos) dessa unidade(isso é, a unidade da camada seguinte) em questão cujo indice é O NÙMERO DA UNIDADE ATUAL DA CAMADA OCULTA, ou seja, o peso de número <NÙMERO_DA_UNIDADE_ATUAL>. Ou seja, vamos usar os gradientes e também os pesos das unidades da camada seguinte, isso por que os gradientes das unidades da camada oculta dependem dos gradientes das unidades da camada seguinte, e também dos pesos da camada seguinte, conforme explicado aqui nesse texto, e também ilustrado na imagem. Então esse processo é um somatório, e se resume em: "GRADIENTE * PESO (+) GRADIENTE * PESO (+) ETC....", eu coloquei "ETC...." por que essa soma continuaria até que chegasse na ultima unidade da camada seguinte. Reforçando esse ponto, que para calcular o gradiente de uma unidade na camada oculta atual estamos somando os gradientes das unidades da camada seguinte(ou seja, a camada que está a frente da camada oculta atual). E aqui usei o termo "camada oculta atual" por que esse processo é sempre o mesmo para toda e qualquer camada oculta, sempre da mesma forma, ou seja, sempre usando os gradientes da camada seguinte, e também os pesos, conforme ilustrado na imagem, e muito bem descrito aqui. É muito facil de memorizar mentalmente esse fluxo de operações!